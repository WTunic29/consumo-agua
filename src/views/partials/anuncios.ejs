<!-- Anuncios Responsables -->
<div class="anuncios-responsables">
    <div class="anuncios-header">
        <h3>Anuncios Responsables</h3>
        <p>Apoyamos iniciativas sostenibles y responsables con el medio ambiente</p>
    </div>

    <!-- Google AdSense -->
    <div class="adsense-container">
        <% if (typeof ubicacion !== 'undefined') { %>
            <% if (ubicacion === 'header') { %>
                <!-- Anuncio superior -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-6616389458954354"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            <% } else if (ubicacion === 'sidebar') { %>
                <!-- Anuncio lateral -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-6616389458954354"
                     data-ad-slot="0987654321"
                     data-ad-format="vertical"
                     data-full-width-responsive="true"></ins>
            <% } else { %>
                <!-- Anuncio en contenido -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-6616389458954354"
                     data-ad-slot="5678901234"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            <% } %>
        <% } %>
    </div>

    <!-- Script de AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6616389458954354"
            crossorigin="anonymous"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <!-- Anuncios internos (como respaldo) -->
    <div class="anuncios-internos">
        <% if (typeof anuncios !== 'undefined' && anuncios.length > 0) { %>
            <div class="carousel-anuncios">
                <% anuncios.forEach(anuncio => { %>
                    <div class="anuncio-item <%= anuncio.tipo %>">
                        <h4><%= anuncio.titulo %></h4>
                        <p><%= anuncio.descripcion %></p>
                        <% if (anuncio.imagen) { %>
                            <img src="<%= anuncio.imagen %>" alt="<%= anuncio.titulo %>">
                        <% } %>
                        <% if (anuncio.enlace) { %>
                            <a href="<%= anuncio.enlace %>" class="btn-anuncio" target="_blank">Ver más</a>
                        <% } %>
                    </div>
                <% }); %>
            </div>
        <% } %>
    </div>
</div>

<style>
.anuncios-responsables {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.anuncios-header {
    text-align: center;
    margin-bottom: 20px;
}

.anuncios-header h3 {
    color: #2c3e50;
    margin-bottom: 10px;
}

.anuncios-header p {
    color: #666;
    font-size: 0.9em;
}

.adsense-container {
    margin: 20px 0;
    min-height: 100px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fff;
    border: 1px solid #e9ecef;
    border-radius: 4px;
    padding: 10px;
}

.anuncios-internos {
    margin-top: 20px;
}

.carousel-anuncios {
    display: flex;
    overflow-x: auto;
    gap: 20px;
    padding: 10px 0;
    scrollbar-width: thin;
}

.anuncio-item {
    flex: 0 0 300px;
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.anuncio-item h4 {
    color: #2c3e50;
    margin-bottom: 10px;
}

.anuncio-item p {
    color: #666;
    font-size: 0.9em;
    margin-bottom: 15px;
}

.anuncio-item img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 4px;
    margin-bottom: 10px;
}

.btn-anuncio {
    display: inline-block;
    padding: 8px 16px;
    background: #3498db;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    font-size: 0.9em;
    transition: background 0.3s ease;
}

.btn-anuncio:hover {
    background: #2980b9;
}

/* Estilos específicos para diferentes tipos de anuncios */
.anuncio-item.ecologico {
    border-left: 4px solid #2ecc71;
}

.anuncio-item.sostenible {
    border-left: 4px solid #3498db;
}

.anuncio-item.conservacion {
    border-left: 4px solid #e74c3c;
}

/* Responsive */
@media (max-width: 768px) {
    .anuncio-item {
        flex: 0 0 250px;
    }
    
    .adsense-container {
        min-height: 60px;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar carrusel de anuncios internos
    const carousel = document.querySelector('.carousel-anuncios');
    if (carousel) {
        let isDown = false;
        let startX;
        let scrollLeft;

        carousel.addEventListener('mousedown', (e) => {
            isDown = true;
            carousel.style.cursor = 'grabbing';
            startX = e.pageX - carousel.offsetLeft;
            scrollLeft = carousel.scrollLeft;
        });

        carousel.addEventListener('mouseleave', () => {
            isDown = false;
            carousel.style.cursor = 'grab';
        });

        carousel.addEventListener('mouseup', () => {
            isDown = false;
            carousel.style.cursor = 'grab';
        });

        carousel.addEventListener('mousemove', (e) => {
            if (!isDown) return;
            e.preventDefault();
            const x = e.pageX - carousel.offsetLeft;
            const walk = (x - startX) * 2;
            carousel.scrollLeft = scrollLeft - walk;
        });
    }
});
</script> 